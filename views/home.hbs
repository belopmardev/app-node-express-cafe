<main>
  <div id="calendario" class="container">
      <div class="row d-flex align-items-center justify-content-center">
        <div class="col-12 d-flex align-items-center justify-content-center titulo">
          <h1 class="font-effect-outline">Reserva Mesa en Node Express Café</h1>
        </div>
        <div class="col-12 d-flex align-items-center justify-content-center formulario">
          <form method="post" action="/procesar">
                  <div class="form-group row">
                    <label for="nombre" class="col-4 col-form-label">Nombre</label> 
                    <div class="col-8">
                      <input id="nombre" name="nombre" placeholder="Introduzca su nombre" type="text" class="form-control" required="required">
                    </div>
                    <label for="apellidos" class="col-4 col-form-label">Apellidos</label> 
                    <div class="col-8">
                      <input id="apellidos" name="apellidos" placeholder="Introduzca su/s apellidos" type="text" class="form-control">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="email" class="col-4 col-form-label">E-mail</label> 
                    <div class="col-8">
                      <div class="input-group">
                        <input id="email" name="email" type="email" required="required" placeholder="cuenta@correo.net"class="form-control"> 
                        <div class="input-group-append">
                          <div class="input-group-text">
                            <i class="fa fa-at"></i>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="telefono" class="col-4 col-form-label">Teléfono</label> 
                    <div class="col-8">
                      <div class="input-group">
                        <input id="telefono" name="telefono" type="tel" placeholder="000-000-000" pattern="[0-9]{3}-[0-9]{3}-[0-9]{3}" class="form-control" required="required"> 
                        <div class="input-group-append">
                          <div class="input-group-text">
                            <i class="fa fa-phone"></i>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div> 
                  <div class="form-group row">
                    <label for="fecha" class="col-4 col-form-label">Seleccione Fecha</label> 
                    <div class="col-8">
                      <div class="input-group">
                        <input id="fecha" name="fecha"  type="date" class="form-control"> 
                        <div class="input-group-append">
                         
                        </div>
                      </div>
                    </div>
                  </div>       
                  <div class="form-group row">
                    <label for="hora" class="col-4 col-form-label">Seleccione una hora</label>
                      <div class="input-group">
                        <select id="hora" name="hora" required="required">
                        <option value="" selected="selected">- Elija una hora -</option>
                        <option value="10:00">10:00</option>
                        <option value="11:00">11:00</option>
                        <option value="12:00">12:00</option>
                        <option value="13:00">13:00</option>
                        <option value="14:00">14:00</option>
                        <option value="15:00">15:00</option>
                        <option value="18:00">18:00</option>
                        <option value="19:00">19:00</option>
                        </select>
                        <div class="input-group-append">
                        </div>
                      </div>
                    </div>
                  </div>       
                  <div class="form-group row">
                    <div class="offset-4 col-8">
                      <button name="submit" type="submit" class="btn btn-dark">Enviar</button>
                    </div>
                </div>
          </form>
        </div>
      </div>
    </div>

{{!-- CALENDARIO DE FECHAS RESERVADAS --}}
     <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.5.0/main.min.css' rel='stylesheet' />
      <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.5.0/main.min.js'></script>
      <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.5.0/locales-all.js'></script>
        <style>
          #calendar {
            max-width: 80%;
            margin: 40px auto;
            background: #64A157;
            }
        </style>

      <script>
        document.addEventListener('DOMContentLoaded', function() {
        var initialLocaleCode = 'es';
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          heigth: 'auto',
          contentHeight: 'auto',
          initialView: 'dayGridMonth',
          initialDate: '2021-01-01',
          headerToolbar: {
            left: 'dayGridMonth',
            center: 'title',
            right: 'prev,next today'
          },
            locale: initialLocaleCode,
            events: [
                    {{#each citas}}
                      {
                        title: "{{hora}} Ocupado",
                        start: "{{fecha}}"
                      },
                    {{/each}}
                    ],
                    eventColor: 'red',
                      });
          
            calendar.render();
            });
            </script>
    <div class="row">
      <div class="col-12">
      <div id='calendar'></div>
      </div>
    </div>
</main>